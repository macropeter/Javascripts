<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>
      body {
          width: 75%;
          margin-left:auto;
          margin-right:auto;
          background-color: aqua;}
  </style>

  <script>
function wrapper()
{
    //console.log(zaehle(document.getElementById("Textbereich").value));

    let n=rlatcount(document.getElementById("Textbereich").value);
    console.log(n);
    document.getElementById("Ausgabe").innerHTML="Die Zeichenzahl beträgt ungefähr "+n;
}


function zaehle(texto)
{
    return texto.length;
}

function latcount(texto)
{
    let zz=0;
    for (let i=0;i<texto.length;i++)
    {
        zz++;
    }
    return zz;
}

function rlatcount(texto)
{
    let zz=0;
    let warte=false;

    for (let i=0;i<texto.length;i++)
    {
        if (warte) 
        {
            if (texto.charCodeAt(i)==32 ||texto.charCodeAt(i)==15) warte=false;
        }
        else
        if (texto.charCodeAt(i)==92) warte=true;
        else zz++;
    }
    return zz;
}
    
  </script>
</head>

<body>
  <h1>Zeichen zählen</h1>
  <h2>gib in das Textfeld deinen LaTeX-Text ein:</h2>
  
  <form>
    <textarea cols="100"
    rows="10"
    id="Textbereich">
    </textarea>

    <input type="button"
	   id="rechne"
	   onclick="wrapper()"
	   value="Los!">
  
  </form> 

  <p id="Ausgabe"></p>

</body>

</html>